{% extends 'base.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8"></div>
        <div class="col-md-2"></div>
    </div>
    <nav>
        <h1>BIENVENUE CHER GAMER</h1>
    </nav>
    <header>
        <div class="row">
            <div class="col-md-2">
                <img src="{{ asset('bundles/app/images/logopc5.jpg') }}" alt="jeu morpion" title="morpion" />
            </div>
            <div class="col-md-8">
                <h2>Fight-The-Crabs-Game</h2>
            </div>
            <div class="col-md-2">
                <img src="{{ asset('bundles/app/images/jeu_morpion.jpg') }}" alt="jeu morpion" title="morpion" />

            </div>
        </div>
    </header>


    <br />
    <div>
        <table border="10">
            <tr>
                <td data-x="0" data-y="0"><span class="fas fa-times fa-7x"></span></td>
                <td data-x="1" data-y="0"><span class="fas fa-times fa-7x"></span></td>
                <td data-x="2" data-y="0"><span class="fas fa-times fa-7x"></span></td>
            </tr>
            <tr>
                <td data-x="0" data-y="1"><span class="far fa-circle fa-7x"></span></td>
                <td data-x="1" data-y="1"><span class="fas fa-times fa-7x"></span></td>
                <td data-x="2" data-y="1"><span class="far fa-circle fa-7x"></span></td>
            </tr>
            <tr>
                <td data-x="0" data-y="2"><span class="far fa-circle fa-7x"></span></td>
                <td data-x="1" data-y="2"><span class="fas fa-times fa-7x"></span></td>
                <td data-x="2" data-y="2"><span class="far fa-circle fa-7x"></span></td>
            </tr>
        </table>
    </div>

    <script>
        $(document).ready(function () {
            console.log('ready');
            $('td').on("click", function () {
                console.log('click ' + $(this).data('x') + ' ' + $(this).data('y'));
                // appel ajax sur /game/play/{x}/{y}

                $.ajax({
                    url: '/fight-the-crabs-game/web/app_dev.php/game/play/' + $(this).data('x') + '/' + $(this).data('y'),
                    type: 'GET'
                });
            });
        });
    </script>


    {% if not app.user %}
        <h2><a href="{{ path('connexion') }}">ENTRER</a></h2>
    {% endif %}
{% endblock %}